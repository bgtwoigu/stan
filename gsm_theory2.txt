GSM无线接口理论

1.工作频段
	分类		上行MHz		下行MHz		带宽MHz		双工间隔		双工信道数		
*	GSM900：	890-915		935-960		25*2		45				124
	GSM900E:	880-915		925-960		35*2		45				174
	E频段的网包括了最基础PGSM部分,会和RGSM铁路专用的信号频段有交叉
*	GSM1800：	1710-1785	1805-1880	75*2		95				374
	(DSC1800)
	GSM1900:	1850-1910	1930-1990	60*2		80				299
	
	频点间隔：200KHz,每个频点采用TDMA技术分为8个时隙,即8个信道,也可以降低速率和通信质量扩充到16个信道
	
	国内的GSM频段分配：
	移动：上行905-909MHz,下行950-954MHz,20个频点,绝对频点号为76-95；移动独有的GSM1800的10M带宽(1710Mhz-1720Mhz),频点号是512-562,50个频点,
	上行1710-1720MHz,下行1805-1815MHz
	联通：上行909-915MHz,下行954-960MHz,29个频点,绝对频点号为96-124
	
	干扰保护比：
	载波干扰比C/I：希望接受的信号电平与干扰信号电平比值
	同频干扰保护比：C/I>=9dB	不同小区使用相同频率的干扰
	邻频干扰保护比：C/I>=-9dB	邻近频道的互相干扰
	载波偏离400KHz的干扰保护比：C/I>=-41dB
2.TDMA
	GSM用的是TDMA和FDMA结合并采用跳频的方式,载波间隔为200KHz,每个载波有8个物理信道,每一个可由TDMA的帧号,时隙号,跳频序列来定义,
	一个时隙是0.577ms,每个时隙(TS)间隔有156.25bit,即调制速率约为270kbit/s,调制方式是GMSK.
	
	TDMA的信道：
		1.物理信道：即一个时隙TS
		2.逻辑信道：通过BTS来映射到不同的物理信道上来传送
			1.业务信道：作为语音和用户数据的载体
				1.语音业务信道：
					TCH/FS 全速率语音信道 13kbits/s
					TCH/HS 半速率语音信道 5.6kbits/s
				
				2.数据业务信道:
					TCH/F9.6 全速率数据信道 9.6kbits/s
					TCH/F4.8 全速率数据信道 4.8kbits/s
					TCH/H4.8 半速率数据信道 4.8kbits/s
					TCH/H2.4 半速率数据信道 小于2.4kbits/s
			2.控制信道：作为信令载体或者同步数据
				1.广播信道BCH：仅用于下行链路中,均为点对多点的传播方式
					频率校正信道FCCH: 携带校正MS频率需要的信息,使MS可以定位并且解调出同一小区的其他信息
					同步信道SCH: 接在FCCH之后,解码给出了MS所需同步的所有信息及该小区的TDMA帧号(22bits)和基站识别码BSIC号(6bits)
					广播控制信道BCCH: MS在空闲模式下为有效工作需要大量信息,这些信息都在BCCH信道上来广播
				
				2.公共控制信道CCCH：面向一个小区内的所有MS
					寻呼信道PCH: 根据LAC号向该小区的PCH信道上寻呼,寻呼MS标识为TMSI或IMSI,下行链路,点对多点
					接入许可信道AGCH: 根据MS信道请求分配专用信道后,AGCH向所有MS进行广播分配的信息,下行链路,点对多点
					小区广播控制信道CBCH: 用于广播短消息和该小区的公共消息,下行,点对多点
					随机接入信道RACH: MS通过RACH信道发起接入网络的请求,上行,点对点
				
				3.专用控制信道DCCH:用于一个具体的MS上
					独立专用控制信道SDCCH: 双向专用信道,用于传送建立连接的信令,位置变化情况,短消息,鉴权消息,加密命令及处理附加业务
					慢速随路控制信道SACCH: 上行(传输无线测量报告和第一层报头文件:TA值和功率控制);下行(系统消息5,5bis,5ter,6,第一层报头消息,通信质量,LAI,CELLID,邻小区BCCH频点,NCC限制,小区选项,TA值和功率控制级别etc.)
					快速随路控制信道FACCH: 高速的传输信令
	TDMA的帧
		GSM中每一个载频/频点/频道都看做一个帧,每个帧都有一个帧号,一帧正常情况即包含8个时隙(TS0-TS7)
		1超高帧=2048超帧=2715648个TDMA帧=3h:28min:53s:760ms
		1超帧=1326个TDMA帧=51个26复帧=26个51复帧=6.12s
		1个TDMA帧=8个时隙=4.616ms
		1个时隙TS=0.577ms=156.25bit时长
	突发脉冲序列Burst：TDMA信道的一个时隙中的消息格式
		普通突发脉冲序列:TCH,FACCH,SDCCH,BCCH,PCH,AGCH,SACCH
		尾比特		数据		偷帧标志	训练序列	偷帧标志	数据		尾比特	保护间隔
		3bit		57加密bit	1bit		26bit		1bit		57加密bit	3bit	8.25bit
		
		接入突发脉冲序列:RACH
		尾比特				数据		尾比特	保护间隔
		8bit	41同步bit	36加密bit	8bit	68.25bit
		
		频率校正突发脉冲序列:FCCH
		尾比特		数据		尾比特	保护间隔
		3bit		142固定0bit	3bit	8.25bit
		
		同步突发脉冲序列:SCH
		尾比特		数据					数据		尾比特	保护间隔
		3bit		39加密bit	64个同步bit	39加密bit	3bit	8.25bit
		
		空闲突发脉冲序列:没有具体要发送的消息就发送这种序列,由BTS发出,格式与普通脉冲序列相同,其中加密比特数据变为一定比特模型的混合比特
		
	每种突发脉冲都有如下特点:
		1.尾比特的值总为0,帮助均衡器来判断起始位和终止位避免失步
		2.消息比特描述业务消息和信令消息,空闲突发脉冲和同步突发脉冲序列除外
		3.训练序列：一串已知序列,用来确定同一脉冲序列里其他比特的确定位置,对于接收端收到该序列时近似的估算发送信道的干扰情况有关键的作用
		4.保护间隔：一个空白空间,避免载频里8个信道用户之间的重叠
		
	逻辑信道和物理信道的对应关系
		控制信道的映射:quiz P20	小区中携带有BCCH载频的TS0,TS1安排控制逻辑信道		
		业务信道的映射:TS2-TS7以及其他载频TS0-TS7均可安排业务信道
			除去映射控制信道外的实习均映射在业务信道TCH上,携带TCH/F的复帧是26复帧,即连续26个连续的26TSn,第26个TS是空闲时隙.
			上行链路和下行是一样的,在每一帧的TS中以突发脉冲序列形式发送,唯一不同是有一个3个时隙的偏移
			TCH信道用于传输语音和数据,SACCH用于传送随路控制信息,空闲信道不含任何信息。它有两个作用,呼叫连续状态下与同步它的相邻小区,MS利用它所在的第26个空闲帧所提供的这一段时间间隔,去读取其相邻小区的基站识别码BSIC;
			另一方面是针对半速率TCH信道,用于传输另一个TCH/H业务信道的SACCH.
			12个TCH的TDMA帧-1个SACCH的TDMA帧-12个TCH的TDMA帧-1个空闲帧或1个SACCH的TDMA帧
			
	系统消息介绍:MS为了得到各类型服务,需要从网络获得很多消息,这现在无线接口广播的小心被称作系统消息.
		系统消息组成:当前网络,位置区,小区识别消息\小区测量报告消息,小区选择的进程消息\当前控制信道结构的描述消息\该小区不同的可选项的消息\关于邻小区的BCCH频点分配
		系统消息在两种逻辑信道中传送,BCCH或SACCH.空闲模式下,通过BCCH传送1-4及7,8;通信模式下,通过SACCH传送系统info 5,6.
		系统消息类型:
			1 小区信道描述(频点分配表-CA表)+RACH随即接入信道控制参数
			2 邻小区BCCH频点描述+RACH控制消息+允许的PLMN
			2bis 扩展邻小区BCCH频点描述+RACH控制消息
			2ter 扩展邻小区BCCH描述2
			3 小区识别+位置区识别LAI+控制信道描述+小区选择+小区选择参数+RACH控制参数
			4 位置区识别LAI+小区选择参数+RACH控制参数+CBCH信道描述+CBCH移动配置
			5 邻近小区BCCH频点描述
			5bis 扩展邻近小区BCCH频点描述
			5ter 扩展邻近小区BCCH频点描述
			6 小区识别+位置区识别LAI+小区选择
			7 小区重选参数(是否采用C2判决,COR/TO/PT)
			8 小区重选参数
			
			9	BCCH的调度信息,系统消息3中必须制定9的接收位置
			13 	还是搭载在BCH公共广播信道上,关于gprs的信息,
			15	还是关于gprs的信息的系统消息类型
			
		各种信息单元包含的主要内容:
			1.小区信道描述中包含该小区所使用的所有频点
			2.RACH控制消息中含有参数MAX RETRANS最大重传数,TX INTEGER传输的时隙数,CELL BAR ACCESS小区是否被禁止接入,RE呼叫重建允许比特,EC紧急呼叫允许比特,AC被限制接入的用户级别
			3.邻小区BCCH频点描述包括其邻小区所用的所有BCCH频点
			4.允许的PLMN用来提供小区内BCCH载波上移动台监测所允许的NCC
			5.控制信道描述:ATT移动台附着分离允许提示,BS AG BLKS RES留做接入允许AGCH的块数,CCCH CONF公共控制信道结构,BA PA MFRMS传输寻呼消息留给同一寻呼组的51TDMA复帧数,T3212用做周期性位置更新的时间
			6.小区选择:PWRC功率控制提示,DTX不连续发射提示,RADIO LINK TIMEOUT无线链路超时值
			7.小区选择参数:小区重选滞后值,MS TXPWR MAX CCH移动台接入小区应使用的最大TX功率电平,RXLEV ACCESS MIN允许接入系统的移动台的最小接入电平
			8.CBCH信道描述:信道类别,TDMA偏差,TN时隙号,TSC训练序列码,H跳频信道指示,MAIO移动配置指数偏移量,HSN跳频序列号,ARFCN绝对频点号
			9.CBCH移动配置:包括参与跳频的频道顺序和小区信道描述的关系
			10.小区重选参数:包括PI小区重选指令,CBQ小区禁止限制,CRO小区重选偏置量,TO临时偏置量,PT惩罚时间
			
3.移动环境中的电波传播
	陆地移动环境特点:
	MS天线较低;MS的移动特性;信号电平随机变化;城市环境中的波导效应;人为噪声;干扰严重
	
	信号在无线路径的衰落 P24
	1.自由空间(介电常数和磁导率均匀的理想无限大的空间)信号强度的衰落
	Pr=Pt*[(波长/4*pi*距离)^2]*发射机天线增益*接收机天线增益 
	传播模型:统计模型/决定模型
	大于1Km时统计模型准确性较高,反之则决定模型效果较好
	
	2.长期衰落
	场强随地理位置改变,地势变化,建筑物遮挡等等而缓慢变化,称为长期衰落或慢衰落
	统计特性:这种衰落符合对数的正态衰落,长期衰落是接收到的衰落信号的平均值,指在一个特定长度L内平均得到的电平信号值,L一般为40个波长内再取36-50个测试信号电平值.
	
	3.短期衰落
	多径衰落信道,多径信号相互叠加后的信号幅度变化符合瑞利分布,所以这种随时间急剧变化的短期衰落又被称为瑞利衰落
	陆地移动通信主要以视距内的直射波和各类反射波传播为主
	多径信号构成:远地散射产生的回波,时延较长且稳定; MS附近由建筑物等等反射和散射的回波,这类最主要,数量大时延短
	统计特性:接收的衰落信号的瞬时值,形成原因主要是MS近范围内的人为建筑物或自然障碍反射造成的多径波干涉,形成驻波场,当MS通过时,场强就会出现起伏变化
	
	4.多普勒频移
	快速移动的MS出现的频移现象. 略
	f = f0-[(v/f)*cos(a)]
	
	无线信号的传波损耗:
	1.定义:从发射天线到接收功率电平的损耗值
	2.与距离的关系:1-20Km内,大致为40dB/dec,再增大距离将增大至50-60dB/dec
	3.损耗类型:自由空间传播损耗;绕射损耗;反射损耗;建筑物贯穿损耗;人体损耗;车内损耗;植被损耗
	
	信号传播的其他特性:
	1.衰落电平交叉率:
	2.衰落平均持续时间
	3.时延展宽:决定相干带宽的唯一因素,产生码间干扰的主要原因
	4.相干带宽:
	5.码间干扰:多径传播中时延展宽过大或者传输比特率太高引起
	
	分集接收:在若干支路上接收相互关联性很小的载有同一消息的信号,再通过合并技术将各支路信号合并输出,就能得到质量更好,衰落幅度更小的信号.
	1.空间分集:设立两副接收天线,独立接受同一信号,再利用分集合并技术,合成输出较强的有用信号,降低传播因素的影响
	2.时间分集:设定时延来发送同一消息
	3.频率分集:即GSM的跳频技术
	4.极化分集:指把两副接收天线的极化角度互成一定角度,以获取更好的分集增益
	
4.MS和基站的时间调整
	MS收发信号有3个时隙的间隔
	MS在接收信号同时,将在频率上平移45MHz,并在3个时隙基础上考虑TA时间提前量再发送信号,然后再次平移以监测其他小区的BCCH信道.
	呼叫期间,MS发送给基站的测量报告报头上携带者MS的时延值,而基站必须监视呼叫到达的时间,并在下行SACCH的系统消息上以每2s一次的频率向MS发出指令,随着MS离开基站距离的变化,逐步指示MS应该提前发送的时间,这就是时间调整.
	时间提前量一般是0-233us,该值乘上光速除以2就是GSM一个小区无线覆盖的半径大小(35Km)
	减少每个载频的信道数,可以增大覆盖的面积,"扩展小区技术",这样定时的编码会增大一个突发脉冲的时长156.25bit;	3.7us/bit * (63+156.25)bit * (3*(10^8)m/s / 2 = 120Km
	由于多径传播和MS同步精确度影响,两个在同一位置接受同一小区信号的MS对时间提前量测量的差异,可能会达到3bit左右(1.6Km)
	
5.跳频技术
	按照固定间隔改变一个信道使用的"频率",GSM是慢速跳频,在每个帧的相应时隙跳变一次,每秒跳变217次,4.61ms跳变一次.
	基带跳频:帧单元和载频单元之间加入一个交换单元,将某个时隙信号切换到对应无线频率上来实现调频,通过腔体合成器实现,衰耗小,容量大一些,但要求不如混合合成器灵活,只能使用固定频率发射,而且所用频点间隔要大于600KHz
	射频跳频:通过混合合成器实现,对其每个TRX收发信机的频率合成器进行控制,使其在每个时隙基础上按照不同方案进行跳频,可以使用一组频率,频点间隔要求是200KHz
	区别:容量;灵活度;衰耗;基带跳频每个发信机只能对应一个频点,而后者每个发信机能发送所有参与跳频的频点.
	
	跳频的优点:
	1.频率分集:同一信息利用多个频率发送,适于MS缓慢移动或静止的手持用户
	2.干扰源分集:业务量密集的地方,由于频率复用会有互相之间的干扰,载波干扰比C/I(同频\邻频),使用跳频让干扰情况被该载波的其他呼叫共享
	
	跳频序列:
	小区参数定义定义了两个频率组
	CA小区分配表:会用到的所有频点;MA移动分配表:跳频会用到的所有频点,频点数在1-64之间
	携带有BCCH的载频不能用于跳频
	GSM规范中有两个参数来描述跳频序列:MAIO(移动分配指针偏移)和HSN(跳频序列号)
	HSN有64个不同的值,通常一个小区使用同一个HSN值及不同的MAIO值;如果是同一跳频组相邻小区,应使用不同的HSN值,这样可以获得干扰源分集增益
6.源数据传输过程
	语音信号->数字化,编码->信道编码->交织->形成突发脉冲格式->加密->调制->......
	1.语音编码:GSM采用的是13kbits/s的RPE LTP规则脉冲激励长期预测的编码方式,在不增加误码情况下以较小的速率优化频谱占用 quiz
		每个语音块为20ms,速率是13kbit/s,即一个块就是260bit
	2.信道编码:改善传输质量克服各种干扰,以增加比特降低信息量为代价
	原始数据经过某些计算增加的一部分冗余比特信息,接收端接收后也做相同的运算,检验结果的冗余比特是否一样,来确定传输是否有误
	编码方式:块卷积码,纠错循环码,奇偶码
		1.TCH全速率信道编码:
		之前语音编码的260bit分为3部分:50个最重要的bit;132个重要bit;78个不重要bit;50个最重要bit缇娜及3个奇偶校验比特,53+132+4个尾比特一起卷积编码,速率1:2,得到378bit,再加上另外不重要的78bit最后得到456bit.
		2.BCCH,PCH,AGCH,SDCCH,FACCH,SACCH信道的编码:
		LAPDm是数据链路层的协议,在连接模式下用于传送信令,被应用在上面6种信道上,一个LAPDm帧有23字节即184bit
		184bit增加40bit的纠错循环码,可以检测物理层的差错校正码能否校正传输差错,再加上4bit尾比特一共228bit进行卷积,速率1:2,得到456bit的编码序列
		3.SCH的信道编码:
		每个SCH信道有25bit消息字段,其中19bit帧号,6bit的BSCI号,而SCH的突发脉冲序列的消息位的字段是78bit
		25bit加上10个奇偶校验比特和4个尾比特,进行卷积,速率1:2,得到78bit的编码序列
		4.RACH信道编码:
		随机接入RACH信道是由8个消息bit组成,包括3bit的建立原因和5bit的随机鉴别符
		8bit先加上6bit的色码,这6bit是BSIC的6bit经过奇偶校验码取模2获得的,再加上4bit尾比特,进行卷积,速率1:2,得到36bit,即RACH突发脉冲的36bit消息位
	3.交织技术
	将一条消息中的相继比特分开,相继比特以非相继方式被发送,这样即使出错也不会导致整个突发脉冲序列都不能被解码
		1.内部交织
		456bit的编码,分为8组,每组57bit,每一bit之间间隔8位,使一组内的消息相继较远
		2.块间交织
		对于TCH信道的交织:
		块B分成8组,前4组和A4-A7交织形成[B0,A4][B1,A5][B2,A6][B3,A7],后4组和C0-C3形成[B4,C0][B5,C1][B6,C2][B7,C3]
		即使丢掉一个脉冲串,也只损失12.5%
		对控制信道(SACCH)的二次交织不一样,是一个块内的前后4组互相之间进行交织,最后获得四个整突发脉冲序列[B0,B4][B1,B5][B2,B6][B3,B7]
		交织对系统抗干扰有重要意义,缺点是时长,20ms的语音块会有65个突发脉冲的周期,即37.5ms,因此MS和中继电路上增加了回波消除器,改善由于时延引起的通话回音.
	4.突发脉冲形成
	5.加密
		只限于普通突发脉冲序列
		加密=泊松随机序列和普通突发脉冲的114个信息比特进行异或操作得到
	6.调制/解调
		调制:BT=0.3的GMSK技术,调制速率270.833kbit/s,按照一定规则将某种特性(信息)加在了电磁波上,GSM是调相的方式,由电磁波的相位变化来承载信息.
		解调:viterbi算法
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	