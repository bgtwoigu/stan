===Gecko===
如同之前提到的那样，火狐系统的的gecko对web标准作出定义，并控制着手机硬件设备之间的交互。
web应用利用安全的web-API控制着硬件，web-API提供了面向下层的硬件设备的可编程接口，web的内容会通过使用HTML5语言来访问到这些API。
一个应用包含各种由HTML5编写的web内容，去构建一个web应用需要你在火狐系统的手机上进行组装，打包，分发等等。
web引用在火狐系统的运行环境下run-time，对其的web内容进行解释，编译，并在这个web的引擎中渲染。

图-gecko结构图
【1】gecko结构
最上层和gaia层相连的是火狐系统的run-time，由它和下面的权限管理器相连。

安全性框架包含如下：
权限管理器，web-API中会涉及到的各种接入功能的权限控制
接入控制列表，web-API中涉及到的接入功能和权限的矩阵列表
证书验证，用户及各个应用的鉴权
权限存储部分，接入web-API所需的特权设定存储集

web-API：
标准的API集，将硬件的功能调用开放给上层，提供安全，可编程的接口，同时伴随数据的存储。

IO：
面向硬件和数据存储设备的接口

软件更新：
各种web应用的更新和第三方的应用

布局和渲染：
gecko引擎会去解析并运行网页内容，依规定的形式向上层即用户展示

b2g进程：
作为gecko的底层部件，和面向gonk的接口，是一个拥有特权高优先级的系统进程，将各种应用作为子进程启动管理。

【2】和火狐系统相关的gecko的各类文件
b2g/：包含了火狐系统主要相关的函数

b2g/chrome/content：包含了运行在系统应用上的js文件

b2g/chrome/content/shell.html：对gaia层的入口，系统应用必须的html文件，shell.html文件关联了setting.js和shell.js这两个文件，settings.js包含了系统默认的设置参数，
<script type="application/javascript;version=1.8" src="chrome://browser/content/settings.js"> </script>
<script type="application/javascript;version=1.8" src="chrome://browser/content/shell.js"> </script>

























